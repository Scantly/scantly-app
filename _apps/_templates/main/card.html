{% raw %}
<div id="{{id}}_QR" class="card border-success mb-4 mb-lg-3" style="z-index: 4;{{#if widths}} min-width: {{widths.min}}px; max-width: {{widths.max}}px;{{/if}}">
  <div class="text-center p-0">
    <div class="card-header border-success text-primary font-weight-bold">
      <div class="d-flex flex-row justify-content-{{#if icon}}between{{else}}around{{/if}}">
        <a data-fullscreen="{{id}}_QR_CODE" href="#" data-toggle="tooltip" title="Click for fullscreen version">{{name}}</a>
        {{~#if icon}}<span class="material-icons text-success"{{#if icon_title}} data-toggle="tooltip" title="{{icon_title}}{{/if}}">{{icon}}</span>{{~/if~}}
      </div>
    </div>
    <div class="card-body p-0">
      <img id="{{id}}_QR_CODE" class="img-fluid mx-auto d-block rounded" src="{{{qr}}}" />	
    </div>
    <div class="card-footer bg-transparent border-success text-muted">
      <div class="d-flex flex-row justify-content-between">
        {{~#if link~}}<span data-toggle="tooltip" title="Click to copy QR Code Link">
          <a href="#" class="link" data-clipboard-text="{{link}}">
            <span class="material-icons">link</span>
          </a>
        </span>{{~/if~}}
        {{~#unless link~}}<span data-toggle="tooltip" title="Click to download QR Code">
          <a href="#" onclick="event.preventDefault(); factory.Display.tidy(); saveAs('{{{qr}}}', '{{name}}{{#if notes}} - {{notes}}{{/if}}.png');">
            <span class="material-icons">file_download</span>
          </a>
        </span>{{~/unless~}}
        {{~#if notes~}}<span>{{notes}}</span>{{~/if~}}
        <span data-toggle="tooltip" title="Click for printable version">
          <a data-toggle="collapse" href="#{{id}}_QR_FULL">
            <span class="material-icons">print</span>
          </a>
        </span>
      </div>
    </div>
  </div>
</div>
<div id="{{id}}_QR_FULL" class="collapse bg-dark h-100 w-100" style="position: fixed; top: 0; left: 0; z-index: 9999;"
     onclick="event.preventDefault(); document.getElementById('{{id}}_QR_FULL').classList.remove('show');">
  <div style="display:table; width: 100vw; height: 100vh;">
    <div style="display:table-cell; vertical-align:middle; width: 100vw;">
      <div class="mx-auto text-center">
        <img class="img-fluid" src="{{{qr}}}" />
      </div>
    </div>
  </div>
</div>
{% endraw %}